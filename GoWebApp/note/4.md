## 第４章 リクエストのデータ構造とその処理

### 4.1 リクエストとレスポンス
- HTTPメッセージには「HTTPリクエスト」と「HTTPレスポンス」の２種類
  - 基本的な構造は同一で
    - リクエスト行 or レスポンス行
    - 0行以上のヘッダ
    - 空行
    - 任意指定のメッセージボデイ
-  `net/http`ライブラリはHTTPメッセージ用の構造体を提供
  
#### 4.1.1 Request
- 構造体Requestはクライアントから送信されるリクエストメッセージを表す
  - この構造体には解析済みの重要と考えられる情報に加えて数個の有用なメソッドが含まれる
    - URL
    - Header
    - Body
    - Form, PostForm, MultipartForm
  - リクエスト内のクッキー、参照元URL、ユーザエージェントにもアクセス可能
#### 4.1.2 リクエストのURL
- URLフィールドはリクエストの一部分として送信されたURLを表す
- URLフィールドは`url.URL`型へのポインタ
#### 4.1.3 リクエストヘッダ
- リクエストとレスポンスのヘッダはHeader型で記述され、HTTPヘッダ内のキーと値のマップを表す
#### 4.1.4 リクエストのボディ
- ボディはBodyフィールドで表され、インターフェース`io.ReadCloser`で実現される
  BodyフィールドはインターフェースReaderとインターフェースCloserで構成されている

### 4.2 HTMLフォームとGo言語
- POSTリクエストで送信する名前と値のペアの形式は、HTMLフォームのコンテンツタイプで指定する。
- 属性`enctype`で指定する
- デフォルト値は`application/x-www-form-urlencoded`
- ブラウザは少なくとも必ず`application/x-www-form-urlencoded`と`multipart/form-data`の２つのサポートすることになっている
- 属性`enctype`を`application/x-www-form-urlencoded`に設定すると、ブラウザはHTMLフォーム
のデータを長いクエリ文字列に符号化する
- その際、名前と値からなるペア同士を「&」で区切り、名前と値を「=」で区切る
- URLエンコードと同じでそのために属性値にurlencodedという文字が含まれている
- `enctype`を`multipart/form-data`に設定した場合は、名前と値の各ペアが、それぞれコンテンツタイプとコンテンツディスポジションを伴った形でMIMEのメッセージパートに変換される
- ファイルのアップロードのように大量のデータを送信するならマルチパートMIME形式の方が適している
#### 4.2.1 フォーム

  